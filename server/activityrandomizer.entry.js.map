{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/js-cookie/src/js.cookie.js","webpack:///./src/js/activity-randomizer.js","webpack:///./src/js/modules/activity-randomizer/dom.js","webpack:///./src/js/modules/activity-randomizer/filters/dom.js","webpack:///./src/js/modules/activity-randomizer/filters/filters.js","webpack:///./src/js/modules/activity-randomizer/state/activity-randomizer.js","webpack:///./src/js/modules/cookies/cookies.js"],"names":["listActivities","documentID","sheetName","documentLinkInput","document","getElementById","sheetCellRange","sheetPrefix","gapi","client","sheets","spreadsheets","values","get","spreadsheetId","range","then","response","result","length","activities","setDocumentValidity","i","cellRow","push","name","time","rating","description","setActivities","classList","remove","add","insertSheetNames","sheetNames","sheetButtonContainer","querySelector","innerHTML","forEach","sheet","properties","title","toLowerCase","sheetButtons","querySelectorAll","clickedButton","index","buttons","addEventListener","e","button","sheetToUse","target","value","dispatchEvent","Event","handleNoSheetNames","error","getSheetNames","Promise","resolve","reject","message","updateGoogleAPISignInStatus","isSignedIn","authorizeButton","signoutButton","style","display","catch","handleGoogleAPIAuthClick","auth2","getAuthInstance","signIn","handleGoogleAPISignoutClick","signOut","initClientForGoogleSheetsAPI","CLIENT_ID","API_KEY","DISCOVERY_DOCS","SCOPES","init","apiKey","clientId","discoveryDocs","scope","listen","onclick","window","handleClientLoad","load","insertRandomizedActivity","activity","pickedActivity","viewListButtons","timeRange","randomizeButton","sheetSubmitButton","removeFiltersButton","noActivitySelectedContainers","randomizedActivityContainers","getActivities","filteredActivities","randomIndex","Math","floor","random","el","rangeValue","timeRangeValue","textContent","btn","documentIsValid","getDocumentValidity","getDocumentIDFromdocumentLinkInput","defaultDocumentID","indexOf","googleSheetsDocumentIDRegex","RegExp","regexResult","match","getDocumentID","cookies","preferredSheet","undefined","preferredDoc","appendMessage","activityListContainers","contentContainer","col","createElement","createTextNode","appendChild","appendActivity","setActivityContainerContent","content","container","removeActivityListContainersInnerHTML","setTimeRangeMaxValue","timeRangeMaxValueIndicator","disabled","activitiesToCheckForMaxTime","maxTime","reduce","accumulator","currentActivity","Number","max","disableFilters","getFilters","filters","filterActivities","filter","handleCompletelyFilteredOutActivities","activityRandomizer","activitiesFromSheet","documentValid","newActivities","validity","getCookies","hasConfiguredCookies","allowPreferences","fillCurrentCookieSettings","cookieModal","checked","disableScrolling","overflow","enableScrolling","setNewCookieSettings","settings","set","preferences","checkCookieCheckboxes","cookiePreferenceCheckbox","preferencesAllowed","cookieSettingsFromPopUp","handleCookieElements","element","addCookieModalEventListeners","cookieClose","cookieSubmit","cookieSettings","showCookieModal","handleCookies","openCookies","openCookiesButton"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,QAAQ,sBAAsB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA2D;AAC3D,6BAA6B,EAAE;AAC/B;;AAEA,SAAS,oBAAoB;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;AACA;;A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","file":"activityrandomizer.entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/activity-randomizer.js\");\n","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","import activityRandomizer from './modules/activity-randomizer/state/activity-randomizer';\r\nimport { getFilters, filterActivities } from './modules/activity-randomizer/filters/filters';\r\nimport { setTimeRangeMaxValue, disableFilters } from './modules/activity-randomizer/filters/dom';\r\nimport {\r\n  getDocumentID,\r\n  appendMessage,\r\n  appendActivity,\r\n  removeActivityListContainersInnerHTML,\r\n  setActivityContainerContent,\r\n} from './modules/activity-randomizer/dom';\r\n\r\n// Lists activities in the activityListContainers or shows an error\r\nconst listActivities = (documentID, sheetName) => {\r\n  const documentLinkInput = document.getElementById('sheet-input');\r\n  const sheetCellRange = 'A2:D';\r\n\r\n  const sheetPrefix = sheetName ? `${sheetName}!` : '';\r\n  setActivityContainerContent('<div class=\"col\">Loading data...</div>');\r\n\r\n  gapi.client.sheets.spreadsheets.values\r\n    .get({\r\n      spreadsheetId: documentID,\r\n      range: sheetPrefix + sheetCellRange,\r\n    })\r\n    .then(\r\n      (response) => {\r\n        const range = response.result;\r\n\r\n        // Sometimes range.values empty and then it is not returned from the response\r\n        if (range.values && range.values.length > 0) {\r\n          const activities = [];\r\n          activityRandomizer.setDocumentValidity(true);\r\n\r\n          removeActivityListContainersInnerHTML();\r\n          for (let i = 0; i < range.values.length; i += 1) {\r\n            const cellRow = range.values[i];\r\n\r\n            // Print columns A and B, which correspond to indices 0 and 1.\r\n            appendActivity(cellRow[0], cellRow[1]);\r\n\r\n            activities.push({\r\n              name: cellRow[0],\r\n              time: cellRow[1],\r\n              rating: cellRow[2],\r\n              description: cellRow[3] || 'No description',\r\n            });\r\n          }\r\n\r\n          activityRandomizer.setActivities(activities);\r\n          setTimeRangeMaxValue();\r\n          documentLinkInput.classList.remove('is-invalid');\r\n        } else {\r\n          setActivityContainerContent('<div class=\"col\">No data found. :(</div>');\r\n          disableFilters();\r\n        }\r\n      },\r\n      // Handle rejected document\r\n      () => {\r\n        documentLinkInput.classList.add('is-invalid');\r\n        activityRandomizer.setDocumentValidity(false);\r\n        removeActivityListContainersInnerHTML();\r\n        appendMessage('error: Make sure your Google Sheets document link is copied correctly.');\r\n        disableFilters();\r\n      }\r\n    );\r\n};\r\n\r\n/**\r\n * @param {array} sheetNames\r\n */\r\nconst insertSheetNames = (sheetNames) => {\r\n  const sheetButtonContainer = document.querySelector('.sheet-button-container');\r\n  sheetButtonContainer.innerHTML = '';\r\n\r\n  sheetNames.forEach((sheet) => {\r\n    const sheetName = sheet.properties.title.toLowerCase();\r\n\r\n    // Add the sheets as buttons, except for the info sheet\r\n    if (sheetName !== 'info') {\r\n      sheetButtonContainer.innerHTML += `<button class=\"btn btn-sm\" value=\"${sheetName}\">${sheetName}</button>`;\r\n    }\r\n\r\n    const sheetButtons = sheetButtonContainer.querySelectorAll('button');\r\n\r\n    // Add the click listeners for the buttons\r\n    sheetButtons.forEach((clickedButton, index, buttons) => {\r\n      clickedButton.addEventListener('click', (e) => {\r\n        // Change the active button\r\n        buttons.forEach((button) => {\r\n          button.classList.remove('btn-primary');\r\n        });\r\n        clickedButton.classList.add('btn-primary');\r\n\r\n        const sheetToUse = e.target.value;\r\n        const documentID = getDocumentID();\r\n        listActivities(documentID, sheetToUse);\r\n      });\r\n\r\n      if (index === 0) {\r\n        clickedButton.dispatchEvent(new Event('click'));\r\n        clickedButton.classList.add('btn-primary');\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst handleNoSheetNames = (error) => {\r\n  insertSheetNames([]);\r\n  disableFilters();\r\n  activityRandomizer.setDocumentValidity(false);\r\n  appendMessage(`Getting sheet names failed: ${error}`);\r\n};\r\n\r\nconst getSheetNames = (documentID) =>\r\n  new Promise((resolve, reject) => {\r\n    gapi.client.sheets.spreadsheets\r\n      .get({\r\n        spreadsheetId: documentID,\r\n      })\r\n      .then(\r\n        (response) => {\r\n          resolve(response.result.sheets);\r\n        },\r\n        (response) => {\r\n          reject(response.result.error.message);\r\n        }\r\n      );\r\n  });\r\n\r\n/**\r\n *  Called when the signed in status changes, to update the UI\r\n *  appropriately. After a sign-in, the API is called.\r\n */\r\nconst updateGoogleAPISignInStatus = (isSignedIn) => {\r\n  const authorizeButton = document.getElementById('authorize-button');\r\n  const signoutButton = document.getElementById('signout-button');\r\n\r\n  if (isSignedIn) {\r\n    const documentID = getDocumentID();\r\n\r\n    authorizeButton.style.display = 'none';\r\n    signoutButton.style.display = 'inline-block';\r\n\r\n    getSheetNames(documentID)\r\n      .then(insertSheetNames)\r\n      .catch((error) => {\r\n        handleNoSheetNames(error);\r\n      });\r\n    listActivities(documentID);\r\n  } else {\r\n    authorizeButton.style.display = 'inline-block';\r\n    signoutButton.style.display = 'none';\r\n  }\r\n};\r\n\r\nconst handleGoogleAPIAuthClick = () => {\r\n  gapi.auth2.getAuthInstance().signIn();\r\n};\r\nconst handleGoogleAPISignoutClick = () => {\r\n  gapi.auth2.getAuthInstance().signOut();\r\n};\r\n\r\n// Initializes the API client library and sets up sign-in state listeners.\r\nconst initClientForGoogleSheetsAPI = () => {\r\n  const authorizeButton = document.getElementById('authorize-button');\r\n  const signoutButton = document.getElementById('signout-button');\r\n\r\n  // Client ID and API key from the Developer Console\r\n  const CLIENT_ID = '855790869281-iie5tqafurs5179pmr8s236n595o4460.apps.googleusercontent.com';\r\n  const API_KEY = 'AIzaSyDxKJyIUDRnU7xTz6_CWAGxZkDiytZtpA4';\r\n\r\n  // Array of API discovery doc URLs for APIs used by the quickstart\r\n  const DISCOVERY_DOCS = [\r\n    'https://sheets.googleapis.com/$discovery/rest?version=v4',\r\n    'https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest',\r\n  ];\r\n\r\n  /* Authorization scopes required by the API; multiple scopes can be\r\n   included, separated by spaces. */\r\n  const SCOPES =\r\n    'https://www.googleapis.com/auth/spreadsheets.readonly https://www.googleapis.com/auth/calendar.readonly';\r\n\r\n  gapi.client\r\n    .init({\r\n      apiKey: API_KEY,\r\n      clientId: CLIENT_ID,\r\n      discoveryDocs: DISCOVERY_DOCS,\r\n      scope: SCOPES,\r\n    })\r\n    .then(() => {\r\n      // Listen for sign-in state changes.\r\n      gapi.auth2.getAuthInstance().isSignedIn.listen(updateGoogleAPISignInStatus);\r\n\r\n      // Handle the initial sign-in state.\r\n      updateGoogleAPISignInStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\r\n      authorizeButton.onclick = handleGoogleAPIAuthClick;\r\n      signoutButton.onclick = handleGoogleAPISignoutClick;\r\n    });\r\n};\r\n\r\n/**\r\n *  On load, called to load the auth2 library and API client library.\r\n *  On window object for the Google Sheets script tag.\r\n */\r\nwindow.handleClientLoad = () => {\r\n  gapi.load('client:auth2', initClientForGoogleSheetsAPI);\r\n};\r\n\r\n/**\r\n * @description Puts an activity in the picked activity card\r\n * @param {activity} activity\r\n */\r\nconst insertRandomizedActivity = (activity) => {\r\n  const pickedActivity = document.getElementById('picked-activity');\r\n\r\n  pickedActivity.querySelector('.card-title h2').innerHTML = activity.name;\r\n  pickedActivity.querySelector('.card-text').innerHTML = `${activity.description}<br>${\r\n    activity.time\r\n  } minutes.`;\r\n};\r\n\r\n// Elements with eventlisteners\r\nconst viewListButtons = document.querySelectorAll('[data-target=\"#viewCurrentActivities\"]');\r\nconst timeRange = document.querySelector('[time-range]');\r\nconst randomizeButton = document.getElementById('pick-activity');\r\nconst sheetSubmitButton = document.getElementById('sheet-submit');\r\nconst removeFiltersButton = document.getElementById('remove-filters');\r\n\r\nsheetSubmitButton.addEventListener('click', () => {\r\n  const documentID = getDocumentID();\r\n\r\n  listActivities(documentID);\r\n  getSheetNames(documentID)\r\n    .then(insertSheetNames)\r\n    .catch((error) => {\r\n      handleNoSheetNames(error);\r\n    });\r\n});\r\n\r\nrandomizeButton.addEventListener('click', () => {\r\n  const noActivitySelectedContainers = document.querySelectorAll('.no-activity');\r\n  const randomizedActivityContainers = document.querySelectorAll('.randomized-activity');\r\n  const activities = activityRandomizer.getActivities();\r\n  const filteredActivities = filterActivities(activities, getFilters());\r\n\r\n  if (filteredActivities.length > 0) {\r\n    const randomIndex = Math.floor(Math.random() * filteredActivities.length);\r\n\r\n    insertRandomizedActivity(filteredActivities[randomIndex]);\r\n\r\n    noActivitySelectedContainers.forEach((el) => {\r\n      el.style.display = 'none';\r\n    });\r\n    randomizedActivityContainers.forEach((el) => {\r\n      el.style.display = 'block';\r\n    });\r\n  } else {\r\n    // When there are no activities available\r\n    setActivityContainerContent(\r\n      '<div class=\"col\">You filtered out all activities in your sheet.</div>'\r\n    );\r\n  }\r\n});\r\n\r\ntimeRange.addEventListener('change', (e) => {\r\n  const rangeValue = e.target.value;\r\n  const timeRangeValue = document.querySelector('[time-range-value]');\r\n\r\n  timeRangeValue.textContent = rangeValue;\r\n});\r\n\r\nremoveFiltersButton.addEventListener('click', () => {\r\n  // restore to the original state of the filters\r\n  const activities = activityRandomizer.getActivities();\r\n  setTimeRangeMaxValue(activities);\r\n});\r\n\r\n// Add a click event listener to every button in viewListButtons\r\nviewListButtons.forEach((btn) => {\r\n  btn.addEventListener('click', () => {\r\n    const documentIsValid = activityRandomizer.getDocumentValidity();\r\n\r\n    if (documentIsValid) {\r\n      const activities = activityRandomizer.getActivities();\r\n      const filteredActivities = filterActivities(activities, getFilters());\r\n\r\n      if (filteredActivities.length > 0) {\r\n        // Fill the activityListContainers with the filtered activities.\r\n        removeActivityListContainersInnerHTML();\r\n        filteredActivities.forEach((activity) => {\r\n          appendActivity(activity.name, activity.time);\r\n        });\r\n      } else {\r\n        setActivityContainerContent(\r\n          '<div class=\"col\">You filtered out all activities in your sheet.</div>'\r\n        );\r\n      }\r\n    } else {\r\n      // sheet is invalid, do error handling\r\n      setActivityContainerContent(\r\n        '<div class=\"col\">The currently selected sheet does not contain activities.</div>'\r\n      );\r\n    }\r\n  });\r\n});\r\n","import getCookies from '../cookies/cookies';\r\n\r\n/**\r\n * @returns example document ID or the ID from the document input\r\n */\r\nconst getDocumentIDFromdocumentLinkInput = () => {\r\n  const documentLinkInput = document.getElementById('sheet-input');\r\n  const defaultDocumentID = '1hqNuYTfAguDAXDWA9L14BarfqwVOWSGsd6IpuWNX2BE';\r\n  let documentID = '';\r\n\r\n  // Use the regex if it is a url, otherwise take the ID\r\n  if (documentLinkInput.value.indexOf('docs.google.com/spreadsheets') > 0) {\r\n    const googleSheetsDocumentIDRegex = new RegExp(/spreadsheets\\/d\\/([a-zA-Z0-9-_]+)/);\r\n    // sheet link\r\n    const regexResult = documentLinkInput.value.match(googleSheetsDocumentIDRegex);\r\n    [, documentID] = regexResult;\r\n  } else {\r\n    documentID = documentLinkInput.value === '' ? defaultDocumentID : documentLinkInput.value;\r\n  }\r\n\r\n  return documentID;\r\n};\r\n\r\n/**\r\n * Gets the document ID associated with the users Google Sheets.\r\n * documentID is changed when the sheetSubmitButton is clicked.\r\n * It is the document ID from the google sheets URL.\r\n */\r\nconst getDocumentID = () => {\r\n  const cookies = getCookies();\r\n  let documentID = '';\r\n\r\n  if (cookies.preferredSheet !== undefined) {\r\n    // Check the cookies for a saved document ID\r\n    documentID = cookies.preferredDoc;\r\n  } else {\r\n    // Check the sheet input for a document ID\r\n    documentID = getDocumentIDFromdocumentLinkInput();\r\n  }\r\n\r\n  return documentID;\r\n};\r\n\r\n/**\r\n * Append a pre element to the body containing the given message\r\n * as its text node. Used to display the results of the API call.\r\n *\r\n * @param {string} message Text to be placed in pre element.\r\n */\r\nconst appendMessage = (message) => {\r\n  const activityListContainers = document.querySelectorAll('[sheet-content]');\r\n\r\n  activityListContainers.forEach((contentContainer) => {\r\n    const col = document.createElement('div');\r\n    const textContent = document.createTextNode(message);\r\n    col.classList.add('col-sm-12');\r\n    col.appendChild(textContent);\r\n    contentContainer.appendChild(col);\r\n  });\r\n};\r\nconst appendActivity = (activity, time) => {\r\n  appendMessage(`${activity}, ${time} minutes.\\n`);\r\n};\r\nconst setActivityContainerContent = (content) => {\r\n  const activityListContainers = document.querySelectorAll('[sheet-content]');\r\n\r\n  activityListContainers.forEach((container) => {\r\n    container.innerHTML = content;\r\n  });\r\n};\r\nconst removeActivityListContainersInnerHTML = () => {\r\n  setActivityContainerContent('');\r\n};\r\n\r\nexport {\r\n  getDocumentID,\r\n  appendMessage,\r\n  appendActivity,\r\n  removeActivityListContainersInnerHTML,\r\n  setActivityContainerContent,\r\n};\r\n","import activityRandomizer from '../state/activity-randomizer';\r\n\r\nconst setTimeRangeMaxValue = (activities) => {\r\n  const timeRange = document.querySelector('[time-range]');\r\n  const timeRangeValue = document.querySelector('[time-range-value]');\r\n  const timeRangeMaxValueIndicator = document.querySelector('.max');\r\n\r\n  timeRange.disabled = true;\r\n  const activitiesToCheckForMaxTime = activities || activityRandomizer.getActivities();\r\n  let maxTime = null;\r\n\r\n  maxTime = activitiesToCheckForMaxTime.reduce((accumulator, currentActivity) => {\r\n    const time = Number(currentActivity.time);\r\n    return time > accumulator ? time : accumulator;\r\n  }, null);\r\n\r\n  timeRange.max = maxTime;\r\n  timeRange.value = maxTime;\r\n  timeRangeMaxValueIndicator.innerHTML = maxTime;\r\n  timeRangeValue.textContent = timeRange.value;\r\n\r\n  if (timeRange.disabled === true && timeRange.max !== 'null') {\r\n    timeRange.disabled = false;\r\n  }\r\n};\r\n\r\nconst disableFilters = () => {\r\n  const timeRange = document.querySelector('[time-range]');\r\n  timeRange.disabled = true;\r\n};\r\n\r\nexport { setTimeRangeMaxValue, disableFilters };\r\n","const getFilters = () => {\r\n  const timeRange = document.querySelector('[time-range]');\r\n\r\n  const filters = {\r\n    maxTime: timeRange.value,\r\n  };\r\n  filters.maxTime = timeRange.value;\r\n\r\n  return filters;\r\n};\r\n\r\nconst filterActivities = (activities, filters) => {\r\n  /**\r\n   * // filter based on time\r\n   * Because activity.time is a string it needs to be converted\r\n   * to a number before comparing it to the value of the time range.\r\n   */\r\n  const filteredActivities = activities.filter(\r\n    (activity) => Number(activity.time) <= filters.maxTime\r\n  );\r\n  return filteredActivities;\r\n};\r\n\r\nconst handleCompletelyFilteredOutActivities = () => {};\r\n\r\nexport { getFilters, filterActivities, handleCompletelyFilteredOutActivities };\r\n","const activityRandomizer = {\r\n  activitiesFromSheet: [],\r\n  documentValid: false,\r\n\r\n  getActivities() {\r\n    return this.activitiesFromSheet;\r\n  },\r\n  setActivities(newActivities) {\r\n    this.activitiesFromSheet = newActivities;\r\n    return this;\r\n  },\r\n  getDocumentValidity() {\r\n    return this.documentValid;\r\n  },\r\n  setDocumentValidity(validity) {\r\n    this.documentValid = validity;\r\n    return this;\r\n  },\r\n};\r\n\r\nexport default activityRandomizer;\r\n","import Cookies from 'js-cookie';\r\n\r\nconst getCookies = () => {\r\n  const cookies = {};\r\n\r\n  cookies.hasConfiguredCookies = Cookies.get('_cookies_configured');\r\n  cookies.allowPreferences = Cookies.get('_allow_preferences');\r\n  cookies.preferredDoc = Cookies.get('_ra_preference_doc');\r\n  cookies.preferredSheet = Cookies.get('_ra_preference_sheet');\r\n\r\n  return cookies;\r\n};\r\n\r\nconst fillCurrentCookieSettings = (cookies, cookieModal) => {\r\n  if (cookies.allowPreferences === 'true') {\r\n    cookieModal.querySelector('[data-cookie-preferences-checkbox]').checked = true;\r\n  } else {\r\n    cookieModal.querySelector('[data-cookie-preferences-checkbox]').checked = false;\r\n  }\r\n};\r\n\r\nconst disableScrolling = () => {\r\n  document.querySelector('body').style.overflow = 'hidden';\r\n};\r\nconst enableScrolling = () => {\r\n  document.querySelector('body').style.overflow = '';\r\n};\r\nconst setNewCookieSettings = (settings) => {\r\n  Cookies.set('_allow_preferences', settings.preferences);\r\n};\r\n\r\nconst checkCookieCheckboxes = (cookieModal) => {\r\n  const cookiePreferenceCheckbox = cookieModal.querySelector('[data-cookie-preferences-checkbox]');\r\n  const preferencesAllowed = cookiePreferenceCheckbox.checked;\r\n\r\n  const cookieSettingsFromPopUp = {\r\n    preferences: preferencesAllowed,\r\n  };\r\n\r\n  return cookieSettingsFromPopUp;\r\n};\r\n\r\n/**\r\n * @param {*} cookies\r\n * @description shows or hides elements based on a user's cookies\r\n */\r\nconst handleCookieElements = (cookies) => {\r\n  if (cookies.hasConfiguredCookies !== undefined) {\r\n    /** Remove hidden class if preference cookies are allowed\r\n     *  Else add the class\r\n     */\r\n    if (cookies.allowPreferences === 'true') {\r\n      document.querySelectorAll('[data-preference-cookie]').forEach((element) => {\r\n        element.classList.remove('hidden');\r\n      });\r\n    } else {\r\n      document.querySelectorAll('[data-preference-cookie]').forEach((element) => {\r\n        element.classList.add('hidden');\r\n      });\r\n    }\r\n  } else {\r\n    // hasConfiguredCookies === undefined\r\n  }\r\n};\r\n\r\nconst addCookieModalEventListeners = (cookieModal) => {\r\n  const cookieClose = cookieModal.querySelector('[data-cookie-modal-close]');\r\n  const cookieSubmit = cookieModal.querySelector('[data-cookies-submit]');\r\n\r\n  cookieClose.addEventListener('click', () => {\r\n    cookieModal.classList.remove('opened');\r\n    enableScrolling();\r\n  });\r\n  cookieSubmit.addEventListener('click', () => {\r\n    Cookies.set('_cookies_configured', true);\r\n    const cookieSettings = checkCookieCheckboxes(cookieModal);\r\n    setNewCookieSettings(cookieSettings);\r\n    handleCookieElements(getCookies());\r\n    enableScrolling();\r\n    cookieModal.classList.remove('opened');\r\n  });\r\n};\r\n\r\nconst showCookieModal = (cookies) => {\r\n  const cookieModal = document.querySelector('.cookie-modal-wrapper');\r\n\r\n  fillCurrentCookieSettings(cookies, cookieModal);\r\n  disableScrolling();\r\n  addCookieModalEventListeners(cookieModal);\r\n  cookieModal.classList.add('opened');\r\n};\r\n\r\n/**\r\n * @param {} cookies from the getCookies function\r\n * It is called when the page loads.\r\n */\r\nconst handleCookies = (cookies) => {\r\n  if (cookies) {\r\n    if (cookies.hasConfiguredCookies === undefined) {\r\n      if (Cookies.get('_cookies_configured') !== 'true') {\r\n        showCookieModal(cookies);\r\n      }\r\n    } else if (cookies.hasConfiguredCookies === 'true') {\r\n      handleCookieElements(cookies);\r\n    } else {\r\n      // cookies probably edited or removed\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Event listener for every element that has the\r\n * open-cookies attribute.\r\n * It opens the cookie modal.\r\n * */\r\nconst openCookies = document.querySelectorAll('[open-cookies]');\r\n\r\nopenCookies.forEach((openCookiesButton) => {\r\n  openCookiesButton.addEventListener('click', () => {\r\n    showCookieModal(getCookies());\r\n  });\r\n});\r\n\r\nhandleCookies(getCookies());\r\n\r\nexport default getCookies;\r\n"],"sourceRoot":""}